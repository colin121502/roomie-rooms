@import "tailwindcss";

/* -------------------------------
   Theme tokens (class-based)
-------------------------------- */

/* Light defaults */
:root {
  /* surfaces & text */
  --background: #ffffff;
  --foreground: #111827;      /* gray-900 */

  /* cards/panels */
  --panel: #ffffff;
  --panel-border: #e5e7eb;    /* gray-200 */

  /* navbar (can be same or slightly different from panel) */
  --nav-bg: var(--panel);
  --nav-border: var(--panel-border);

  /* ensure native controls follow light theme in Safari */
  color-scheme: light;
}

/* Dark when <html class="dark"> is present */
html.dark {
  --background: #0b0f19;      /* deep slate, calmer than pure black */
  --foreground: #e5e7eb;      /* gray-200 */

  --panel: #0f172a;           /* slate-900 */
  --panel-border: #1f2937;    /* gray-800 */

  --nav-bg: var(--panel);     /* tweak if you want a darker nav */
  --nav-border: var(--panel-border);

  /* native controls match dark in Safari */
  color-scheme: dark;
}

/* Base page styles */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), ui-sans-serif, system-ui, -apple-system,
    Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* --------------------------------
   Reusable UI utilities
--------------------------------- */
@layer components {
  .card {
    @apply rounded-xl border p-5 shadow-sm;
    background: var(--panel);
    border-color: var(--panel-border);
  }

  .heading {
    @apply font-semibold;
    color: var(--foreground);
  }

  .muted {
    @apply text-sm;
    color: color-mix(in oklab, var(--foreground) 65%, transparent);
  }

  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium
           transition focus:outline-none focus:ring-2 focus:ring-blue-500/50;
    background: #2563eb; /* blue-600 */
    color: white;
  }
  .btn:hover { background: #1d4ed8; } /* blue-700 */

  .btn-outline {
    @apply inline-flex items-center justify-center rounded-lg px-3 py-1.5 text-sm
           border transition focus:outline-none focus:ring-2 focus:ring-blue-500/40;
    border-color: var(--panel-border);
    color: var(--foreground);
  }
  .btn-outline:hover {
    background: color-mix(in oklab, var(--foreground) 6%, transparent);
  }

  .input {
    @apply w-full rounded-lg px-3 py-2 text-sm transition
           focus:outline-none focus:ring-2 focus:ring-blue-500/40;
    background: var(--panel);
    color: var(--foreground);
    border: 1px solid var(--panel-border);
  }

  .select {
    /* same base as .input but with a custom arrow that works in Safari */
    @apply w-full rounded-lg px-3 py-2 text-sm transition
           focus:outline-none focus:ring-2 focus:ring-blue-500/40
           appearance-none pr-9 relative;
    background: var(--panel);
    color: var(--foreground);
    border: 1px solid var(--panel-border);

    background-image:
      linear-gradient(45deg, transparent 50%, var(--foreground) 50%),
      linear-gradient(135deg, var(--foreground) 50%, transparent 50%),
      linear-gradient(to right, var(--panel-border), var(--panel-border));
    background-position:
      calc(100% - 18px) 52%,
      calc(100% - 12px) 52%,
      calc(100% - 2.25rem) 50%;
    background-size: 6px 6px, 6px 6px, 1px 60%;
    background-repeat: no-repeat;
  }

  .table { @apply w-full text-sm; }
  .th {
    @apply text-left font-semibold border-b py-2;
    border-color: var(--panel-border);
  }
  .td {
    @apply border-b py-2;
    border-color: var(--panel-border);
  }
}